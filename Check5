local pathToFolder = game.workspace.Mine
local newFolderName = "PartClear"
local objectsToMove = {"Stone", "Copper", "Quartz", "Iron", "Basalt", "Coal", "Quartz", "Iron", "Cobalt", "Granite", "Emerald", "Diorite", "Obsidian", "Ruby", "Mantle", "Nickel", "Magma", "Crystallized Stone", "Ice", "Prismatistone", "Reflectistone", "Bedrock", "Etherstone", "Celestone", "Gold"}

local player = game.Players.LocalPlayer
local newPathToFolder = player:FindFirstChild(newFolderName) or Instance.new("Folder")
newPathToFolder.Name = newFolderName
newPathToFolder.Parent = player

local function shouldMove(object)
    for _, name in ipairs(objectsToMove) do
        if object.Name == name then
            return true
        end
    end
    return false
end

local isMoving = false

local userInputService = game:GetService("UserInputService")
userInputService.InputBegan:Connect(function(input, gameProcessedEvent)
    if not gameProcessedEvent then
        if input.KeyCode == Enum.KeyCode.Y then
            isMoving = not isMoving  -- Đảo ngược trạng thái bật/tắt
            if isMoving then
                -- Nếu bật, di chuyển các Part vào Folder mới
                for _, child in pairs(pathToFolder:GetChildren()) do
                    if child:IsA("Part") and shouldMove(child) then
                        local clone = child:Clone()
                        clone.Parent = newPathToFolder
                        child:Destroy()
                    end
                end
            else
                -- Nếu tắt, di chuyển các Part về vị trí cũ
                for _, child in pairs(newPathToFolder:GetChildren()) do
                    local clone = child:Clone()
                    clone.Parent = pathToFolder
                    child:Destroy()
                end
            end
        end
    end
end)

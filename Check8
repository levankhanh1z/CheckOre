local pathToFolder = game.workspace.Mine
local newFolderName = "PartClear"
local objectsToMove = {"Stone", "Copper", "Quartz", "Iron", "Basalt", "Coal", "Quartz", "Iron", "Cobalt", "Granite", "Emerald", "Diorite", "Obsidian", "Ruby", "Mantle", "Nickel", "Magma", "Crystallized Stone", "Ice", "Prismatistone", "Reflectistone", "Bedrock", "Etherstone", "Celestone", "Gold"}

local player = game.Players.LocalPlayer
local newPathToFolder = game.workspace.Mine:FindFirstChild(newFolderName) or Instance.new("Folder")
newPathToFolder.Name = newFolderName
newPathToFolder.Parent = game.workspace.Mine

local function shouldMove(object)
    for _, name in ipairs(objectsToMove) do
        if object.Name == name then
            return true
        end
    end
    return false
end

local isMoving = false

local userInputService = game:GetService("UserInputService")
userInputService.InputBegan:Connect(function(input, gameProcessedEvent)
    if not gameProcessedEvent then
        if input.KeyCode == Enum.KeyCode.Y then
            isMoving = not isMoving  -- Đảo ngược trạng thái bật/tắt
            if isMoving then
                -- Nếu bật, di chuyển từng Part trong danh sách
                for _, name in ipairs(objectsToMove) do
                    local child = pathToFolder:FindFirstChild(name)
                    if child and child:IsA("Part") then
                        child.Parent = newPathToFolder
                    end
                end
            else
                -- Nếu tắt, di chuyển từng Part từ newPathToFolder về pathToFolder
                for _, name in ipairs(objectsToMove) do
                    local child = newPathToFolder:FindFirstChild(name)
                    if child and child:IsA("Part") then
                        child.Parent = pathToFolder
                    end
                end
            end
        end
    end
end)
